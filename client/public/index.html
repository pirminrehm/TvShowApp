<!DOCTYPE html>
<head>
	<script src="lib/jquery/dist/jquery.min.js"></script>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">

    <title>TVShowApp</title>

	<!-- Latest compiled and minified CSS -->
	<link rel="stylesheet" href="lib/bootstrap/dist/css/bootstrap.min.css">
	<!-- Optional theme -->
	<link rel="stylesheet" href="lib/bootstrap/dist/css/bootstrap-theme.min.css">
	<!-- Latest compiled and minified JavaScript -->
	<script src="lib/bootstrap/dist/js/bootstrap.min.js"></script>

	<!-- Our Own Stylesheet -->
	<link rel="stylesheet" type="text/css" href="css/style.css">
</head>

<!--Just some Tests
    ================================================== -->
<!-- Placed at the end of the document so the pages load faster -->
<script src="lib/angular/angular.min.js"></script>
 <script src="app/appHelp.js"></script>
<!--<script src="app/appMain.js"></script> -->

<!-- Lets start with the body -->
<body ng-app="tvshowapp">
	<div class="container" ng-view></div>




	<script src="lib/angular-route/angular-route.min.js"></script>


	<script src="app/app.js"></script>


	<script src="app/controllers/testWelcomeController.js"></script>
	<script src="app/controllers/UserController.js"></script>
















<!-- Top Navigation -->
<nav class="navbar navbar-default">
	<div class="container-fluid">

		<div class="right">
			<!-- Brand Name - TVShowApp -->
			<div id="brand">
				<a class="navbar-brand" href="#">TVShowApp</a>
			</div>

			<!-- Search -->
			<div id="search" class="input-group">
				<input id="search_bar" type="text" class="form-control" placeholder="Search for...">
				<span class="input-group-btn">
					<button id="search_button" class="btn btn-default" type="button">
						<span class="glyphicon glyphicon-plus" aria-hidden="true"></span>
					</button>
				</span>
			</div>

			<!-- List of found series -->

		</div>

    </div>
</nav>
<!-- End of Top Navigation -->



<!-- Main Content -->
<!-- <div class="container-fluid" ng-controller="HomeController"> -->
<div class="container-fluid" >

	<div ng-click="addSeries()">Add new series</div>
	<div id="id01">

	</div>
	

	<div class="row">

		<div ng-repeat="card in cards">
		
		
		
		
		
		
		
		<div id="{{card._id}}" class="col-xs-12 col-sm-6 col-md-4">
	<div class="progress">
		<div class="progress-bar" ng-class="card.percWatched < 100 ? 'progress-bar-warning' : 'progress-bar-success'" role="progressbar" aria-valuenow="{{ card.percWatched }}" aria-valuemin="0" aria-valuemax="100" style="width: {{ card.percWatched }}%;">
		</div>
	</div>
	<div class="series" style="background-image:url(http://thetvdb.com/banners/fanart/original/262980-11.jpg);"> 
		<div class="series-inner"> 
			<div class="series-inner-title"> 
				<div class="left"> 
					<h2 class="normal">{{card.title}}</h2> 
					<p class="normal">{{card.episodeNr}}: {{card.episodeTitle}}</p> 
				</div> ' 
				<div class="right"> 
					<h4>
		
				<span class="label label-warning" ng-click="progressBarUpdate(card._id, card.incrementAmount)">+1</span> 
				<!--<span ng-if="card.percWatched < 100" class="label label-warning" ng-click="progressBarUpdate(this, card.incrementAmount)">+1</span> -->
				
			
		<span ng-if="card.percWatched >= 100" class="label label-success">
			<span class="glyphicon glyphicon-ok" aria-hidden="true"></span>
		</span>
		
		
				
					<!--'<h4><span class="label label-warning" onclick="progressBarUpdate(this)">+1</span></h4> ' 
					
					//'<h4 ng-bind-html="progressBarHtml"></h4> ' -->
					</h4>
				</div> 
				<div class="clear"></div>
			</div>
		</div>
	</div>
</div>
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		</div>

		<div class="col-xs-12 col-sm-6 col-md-4">
			<div class="progress">
				<!--
					Explaination for the progress bar
					'aria-valuenow' and 'style' need to be changed, min and max can always stay the same
				-->
				<div class="progress-bar progress-bar-success" role="progressbar" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100" style="width: 100%;"></div>
			</div>
			<!--
				the background-image needs to be changed as well for each series
			-->
			<div class="series" style="background-image:url(http://thetvdb.com/banners/fanart/original/262980-11.jpg);background-size:100%;">
				<div class="series-inner">
					<div class="series-inner-title">
						<div class="left">
							<!--
								Between the h2: title of the series (json)
								underneath should be the episode number and name.
								TODO: wrap them in a p
							-->
							<h2 class="small">Diese Serie hat enen</h2>
							<!--
								TODO: Implement some magic, that only allows a maximum of XX characters
								OR: If characters to long, apply new css that it fits? more margin-bottom
							-->
							<p class="normal">S03E01: {{message}} Was m</p>
						</div>
						<div class="right">
							<!--
								Button for counting up an episode
								change
									label-warning [and]
									<span class="label label-warning">+1</span>
								to
									label-success [and]
									<span class="glyphicon glyphicon-ok" aria-hidden="true">
								as well when the 
							-->
							<h4><span class="label label-success"><span class="glyphicon glyphicon-ok" aria-hidden="true"></span></span></h4>
						</div>
						<div class="clear"></div>
					</div>
				</div>
			</div>
		</div>



		<!--
			A new series starts here
		-->
		<div class="col-xs-12 col-sm-6 col-md-4">
			<div class="progress">
				<div class="progress-bar progress-bar-warning" role="progressbar" aria-valuenow="60" aria-valuemin="0" aria-valuemax="100" style="width: 60%;"></div>
			</div>
			<div class="series" style="background-image:url(http://thetvdb.com/banners/fanart/original/81797-18.jpg);background-size:100%;">
				<div class="series-inner">
					<div class="series-inner">
					<div class="series-inner-title">
						<div class="left">
							<h2 class="normal">One Piece</h2>
							<p class="normal">S17E01: Episodentitel</p>
						</div>
						<div class="right">
							<h4><span class="label label-warning">+1</span></h4>
						</div>
						<div class="clear"></div>
					</div>
				</div>
				</div>
			</div>
		</div>
		<div class="col-xs-12 col-sm-6 col-md-4">
			<div class="progress">
				<div class="progress-bar progress-bar-warning" role="progressbar" aria-valuenow="60" aria-valuemin="0" aria-valuemax="100" style="width: 60%;"></div>
			</div>
			<div class="series" style="background-image:url(http://thetvdb.com/banners/fanart/original/81797-18.jpg);background-size:100%;">
				<div class="series-inner">
					<div class="series-inner">
					<div class="series-inner-title">
						<div class="left">
							<h2 class="normal">One Piece</h2>
							<p class="normal">S17E01: Episodentitel</p>
						</div>
						<div class="right">
							<h4><span class="label label-warning">+1</span></h4>
						</div>
						<div class="clear"></div>
					</div>
				</div>
				</div>
			</div>
		</div>

		<ul ng-repeat="serie in series">
			<li>{{serie._id}}</li>
			<li>{{serie.tvdatabaseID}}</li>
			<li>{{serie.name}}</li>
			<li>{{serie.season}}</li>
		</ul>
	</div>


</div>

	<br><br>

	<!--
		Shows the series design
		There's always a checkbox inside to check if episode / season is watched

		TODO: At the moment and in the v1, nothing should happen when the LI is pressed.
		TODO: Or do you want to see a small episode description
	 -->
	<div class="row">
		<div class="col-xs-12 col-sm-6 col-md-4">

			<ul class="season_list">
				<div>
					<h4>Staffelauswahl</h4>
					<input type="checkbox">
				</div>
				<li>
					<h4>Season 1</h4>
					<input class="checkbox" type="checkbox">
					<p>In Season1 passieren faszinierende Dinge! Manche davon sind sogar so gruselig, dass Jörg sich manchmal in die<br>HOSE SCHEISST!</p>
				</li>
				<li class="active">
					<h4>Season 2</h4>
					<input class="checkbox" type="checkbox">
					<p>In Season2 passieren unglaubliche Dinge!</p>
				</li>
			</ul>

		</div>
	</div>
	
<br><br><br>

	<p>===== Wilkommensseite =====</p>

<br><br><br>

	<form action="localhost:3000/usr/register" method="POST" id="mailingfield">
		<div class="row">
			<div class="col-xs-12 col-sm-12 col-md-8 col-md-offset-2">
				<div class="input-group input-group-lg">
			 		<span class="input-group-addon" id="sizing-addon1">@</span>
					<input type="email" name="mail-adress" class="form-control" placeholder="Email-Address" aria-describedby="sizing-addon1">
				</div>
			</div>
		</div>

		<div class="row">
			<div class="col-xs-12 col-sm-6 col-md-6 col-sm-offset-3 col-md-offset-3">
				<div class="col-xs-12 col-sm-6 col-md-6" style="text-align:center;">
					<h1><span id="new_list" class="label label-primary" onclick="javascript:yay();">New list</span></h1>
				</div>
				<div class="col-xs-12 col-sm-6 col-md-6" style="text-align:center;">
					<h1><span class="label label-primary">Get list</span></h1>
				</div>
			</div>
		</div>
	</form>

	
	<script type="text/javascript" src="js/main.js"></script>
	<script type="text/javascript" src="js/typeahead.bundle.js"></script>
	<script type="text/javascript">


	function checkStringSize() {
		// var maxNormal = 13;
		// var maxLong = 21-3;

		// aCard.title
		// aCard.episodeTitle

		// Problem: Div kann nicht nach oben wachsen. 

		// // Überprüfen ob h2 oder p
		// // Alle Seriennamen aus der json lesen
		// // Länge des Seriennamens checken
		// // Wenn <= 13 alles okay
		// // Wenn 13 < x <= 18 oder so mache das
		// // Wenn >= 18 String kürzen
		// var simpleString = "Paul Pauline Apostel Paulus Postpaket";
		// var ausschnitt = simpleString.slice(0, maxLong);
		// var bla = document.getElementById("seri_title_normal").innerHTML = ausschnitt + "...";
	}






/* PIRMIN JSON */
	// $.("#new_list").click(function () {
	// 	alert("hello");
	// });
	// 	/* Receive input of mail-field */
	// 	var email = mailingfield.elements["mail-adress"].value;

	// 	/* Create json container */
	// 	var json = '{ "email" : "' + email + '"}';
		
	// 	/* do i need this */
	// 	document.forms["mailingfield"].submit();

	// 	/* Send json via post */
	// 	$.ajax({
	// 		type: "POST",
	// 		url: "localhost:3000/usr/register",
	// 		data: formData,
	// 		dataType: "json",
	// 		contentType : "application/json"
	// 		success: function(){
	// 			alert('yay');
	// 		},
	// 	});
	// });
/* END PIRMIN JSON */

/*
	Search Function (Autocomplete)
*/
var substringMatcher = function(strs) {
	return function findMatches(q, cb) {
		var matches, substrRegex;
 
		// an array that will be populated with substring matches
		matches = [];

		// regex used to determine if a string contains the substring `q`
		substrRegex = new RegExp(q, 'i');

		// iterate through the pool of strings and for any string that
		// contains the substring `q`, add it to the `matches` array
		$.each(strs, function(i, str) {
			if (substrRegex.test(str)) {
			// the typeahead jQuery plugin expects suggestions to a
			// JavaScript object, refer to typeahead docs for more info
			matches.push({ value: str });
		}
	});
 
	cb(matches);
	};
};
 
var states = ['Alabama', 'Alaska', 'Arizona', 'Arkansas', 'California',
  'Colorado', 'Connecticut', 'Delaware', 'Florida', 'Georgia', 'Hawaii',
  'Idaho', 'Illinois', 'Indiana', 'Iowa', 'Kansas', 'Kentucky', 'Louisiana',
  'Maine', 'Maryland', 'Massachusetts', 'Michigan', 'Minnesota',
  'Mississippi', 'Missouri', 'Montana', 'Nebraska', 'Nevada', 'New Hampshire',
  'New Jersey', 'New Mexico', 'New York', 'North Carolina', 'North Dakota',
  'Ohio', 'Oklahoma', 'Oregon', 'Pennsylvania', 'Rhode Island',
  'South Carolina', 'South Dakota', 'Tennessee', 'Texas', 'Utah', 'Vermont',
  'Virginia', 'Washington', 'West Virginia', 'Wisconsin', 'Wyoming', 'Jorg-is-a-Penis'
];
 
$('#the-basics .typeahead').typeahead({
  hint: true,
  highlight: true,
  minLength: 1
},
{
  name: 'states',
  displayKey: 'value',
  source: substringMatcher(states)
});


</script>



    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="lib/jquery/dist/jquery.min.js"></script>

    <script src="lib/bootstrap/dist/js/bootstrap.min.js"></script>
    <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
   <!-- <script src="lib/bootstrap/dist/js/ie10-viewport-bug-workaround.js"></script> -->





</body>
</html>